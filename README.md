# Проект

Задача: берем веб проект (Любая Cms) и кластеризуем его:

Должны быть:
- кластеризация и балансировка веба
- кластеризация и балансировка базы (mysql)

Реализации:
- ansible роли для развертывания (под вагрант)
- vagrant стенд

Что должно быть включено в проект
- как минимум 2 ноды под базу
- минимум 2 ноды под сервер
- настройка файрволла (милитари- демилитаризованная зона)
- скрипты бэкапа
- лог сервер

Топология 
```
otus.project.png
```

## Запуск

```
vagrant up
ansible-playbook 00-all-cluster.yml
```

На моем пк разворачивался за ~40 мин

Не успел сделать 
  - бэкапы, планировал использовать borg;
  - файрволл, в оправдание условно можно считать, что косвенно функции защиты выполняет nat;  
  
Поскольку все делалось под виндой в wsl есть специфика/странности в расположении дополнительный файлов дисков drbd для нод web* и db*. Необходимо указать для них ваши пути к папке с виртуалками виртуалбокс или вообще убрать абсолютные пути. В винде без этого не работает.

Также нельзя менять без правок стенда подсеть для вагранта 192.168.11.0/24